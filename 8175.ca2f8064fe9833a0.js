(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[8175],{8175:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var n=o(6610),i=o(2978),r=o(7222),s=o(8598),l=o(9604),a=o(8361),c=o(6347);function u(e){return t=>(e.loading$.next(!0),(0,a.p)(t.map((t=>e.upload(t)))).pipe((0,c.j)((()=>e.loading$.next(!1)))))}var d=o(3308),h=o(5981),p=o(8399),f=o(3527);let T=(()=>{var e;class t{constructor(){this.loading$=new h.t(!1)}upload(e){const t=new FormData;return t.append("file",e,e.name),t.append("expires","1d"),t.append("autoDelete","true"),(0,p.H)(fetch("https://file.io/",{method:"POST",body:t}).then(function(){var e=(0,d.A)((function*(e){return e.json()}));return function(t){return e.apply(this,arguments)}}())).pipe((0,f.T)((e=>({name:e.name,link:e.link}))))}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),t})();const m=(()=>{var e;class t{constructor(){this.fileIoService=(0,i.WQX)(T),this.builtInTools=[l.TuiEditorTool.Undo,l.TuiEditorTool.Link,l.TuiEditorTool.Attach],this.control=new r.MJ("")}attach(e){e.forEach((e=>this.wysiwyg?.editor?.setFileLink(e)))}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&i.GBs(l.TuiEditor,5),2&e){let e;i.mGM(e=i.lsd())&&(t.wysiwyg=e.first)}},standalone:!0,features:[i.Jv_([{provide:l.TUI_EDITOR_EXTENSIONS,useValue:[Promise.resolve().then(o.bind(o,9604)).then((({TuiStarterKit:e})=>e)),Promise.resolve().then(o.bind(o,5377)).then((({TextStyle:e})=>e)),Promise.resolve().then(o.bind(o,9604)).then((({TuiLink:e})=>e)),Promise.resolve().then(o.bind(o,9604)).then((({TuiJumpAnchor:e})=>e)),Promise.resolve().then(o.bind(o,9604)).then((({TuiFileLink:e})=>e))]},{provide:l.TUI_ATTACH_FILES_LOADER,deps:[T],useFactory:u}]),i.aNF],decls:10,vars:7,consts:[[3,"showLoader"],[1,"editor",3,"formControl","tools","fileAttached"],[3,"content"]],template:function(e,t){1&e&&(i.j41(0,"tui-loader",0),i.nI1(1,"async"),i.j41(2,"tui-editor",1),i.bIt("fileAttached",(function(e){return t.attach(e)})),i.k0s()(),i.j41(3,"h4"),i.EFF(4,"HTML:"),i.k0s(),i.nrm(5,"tui-editor-socket",2),i.j41(6,"h4"),i.EFF(7,"Text:"),i.k0s(),i.j41(8,"p"),i.EFF(9),i.k0s()),2&e&&(i.Y8G("showLoader",!!i.bMT(1,5,t.fileIoService.loading$)),i.R7$(2),i.Y8G("formControl",t.control)("tools",t.builtInTools),i.R7$(3),i.Y8G("content",t.control.value||""),i.R7$(4),i.JRh(t.control.value))},dependencies:[n.Jj,r.X1,r.BC,r.l_,l.TuiEditor,l.TuiEditorSocket,s.ap],styles:[".editor[_ngcontent-%COMP%]     .tui-editor-socket .ProseMirror{min-block-size:10rem}"],changeDetection:0}),t})()}}]);