(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[2861],{2861:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var r,o=i(7270),n=i(6610),s=i(2978),a=i(7222),l=i(6098),d=i(4732),c=i(7492),u=i(2496),p=i(4314),h=i(120),f=i(756),m=i(3527);class T{constructor(){this.sanitizer=(0,s.WQX)(l.up),this.isNotStatic=(0,s.WQX)(c.Hs)||(0,n.Vy)((0,s.WQX)(s.Agw)),this.builtInTools=[h.TuiEditorTool.Undo,h.TuiEditorTool.Link,h.TuiEditorTool.Attach],this.control=new a.MJ(this.isNotStatic?"":'\n            <p>sample.pdf</p>\n            <iframe\n                data-type="iframe-editor"\n                src="https://mozilla.github.io/pdf.js/web/viewer.html?url=https://pdfobject.com/pdf/sample.pdf"\n                width="100%"\n                height="300"\n            ></iframe>\n            <p>Hello world</p>\n    ',a.k0.required)}safe(e){return this.sanitizer.bypassSecurityTrustHtml(e??"")}attach([e]){e&&(this.editor?.editorService.getOriginTiptapEditor()?.chain().focus("end").createParagraphNear().insertContent(e.name).run(),this.editor?.editorService.setIframe({allowfullscreen:!1,frameborder:null,src:`data:application/pdf;base64${e.link}`,width:"100%",height:300}))}}(r=T).ɵfac=function(e){return new(e||r)},r.ɵcmp=s.VBU({type:r,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs(h.TuiEditor,5),2&e){let e;s.mGM(e=s.lsd())&&(t.editor=e.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("_e2e",t.isNotStatic)},standalone:!0,features:[s.Jv_([{provide:h.TUI_EDITOR_EXTENSIONS,deps:[s.duS],useFactory:e=>[Promise.resolve().then(i.bind(i,120)).then(({TuiStarterKit:e})=>e),i.e(5377).then(i.bind(i,5377)).then(({TextStyle:e})=>e),Promise.resolve().then(i.bind(i,120)).then(({TuiLink:e})=>e),Promise.resolve().then(i.bind(i,120)).then(({TuiFileLink:e})=>e),Promise.resolve().then(i.bind(i,120)).then(({tuiCreateIframeEditorExtension:t})=>t({injector:e}))]},{provide:h.TUI_ATTACH_FILES_LOADER,useFactory:()=>([e])=>{if(!e)return(0,f.of)([]);const t=new FileReader;return t.readAsDataURL(e),(0,u.xM)(t,"load").pipe((0,m.T)(()=>[{name:e.name,link:String(t.result),attrs:{type:e.type}}]))}},{provide:h.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"application/pdf",multiple:!1}}]),s.aNF],decls:2,vars:3,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"value"]],template:function(e,t){1&e&&(s.j41(0,"tui-editor",0),s.bIt("fileAttached",function(e){return t.attach(e)}),s.k0s(),s.nrm(1,"tui-content-table",1)),2&e&&(s.Y8G("formControl",t.control)("tools",t.builtInTools),s.R7$(1),s.Y8G("value",t.control.value))},dependencies:[a.X1,a.BC,a.l_,d.C,h.TuiEditor],styles:[".editor[_ngcontent-%COMP%]{min-block-size:43.75rem}  iframe{border:.0625rem solid var(--tui-background-accent-1)}"],changeDetection:0}),(0,o.Cg)([p.PE],T.prototype,"safe",null);const b=T}}]);