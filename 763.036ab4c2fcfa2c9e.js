(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[763],{763:(t,o,e)=>{e.r(o),e.d(o,{HttpMockUploader:()=>f,default:()=>v});var i,n=e(7270),s=e(6610),r=e(2978),a=e(7222),c=e(6098),d=e(7492),l=e(2496),u=e(4314),p=e(540),m=e(756),T=e(2831),h=e(3527),y=e(6173),w=e(1333),I=e(7920);function E(t,o){if(1&t&&(r.qex(0),r.nrm(1,"tui-editor-socket",4),r.bVm()),2&t){const t=r.XpG();r.R7$(1),r.Y8G("content",t.control.value)}}function M(t,o){if(1&t&&(r.qex(0),r.EFF(1),r.bVm()),2&t){const t=r.XpG();r.R7$(1),r.SpI(" ",t.control.value," ")}}let f=(()=>{var t;class o{save(t){return(0,m.of)("https://private-user-images.githubusercontent.com/20438370/398424241-231fe6f0-6c0a-481f-8856-f5da3a10f06b.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzkyNzk0ODksIm5iZiI6MTczOTI3OTE4OSwicGF0aCI6Ii8yMDQzODM3MC8zOTg0MjQyNDEtMjMxZmU2ZjAtNmMwYS00ODFmLTg4NTYtZjVkYTNhMTBmMDZiLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMTElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjExVDEzMDYyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTM5YTQ1ZDI2ZGE5ZjQ4MzBjNmEzNTIzN2JjMjE0ZWFkYjg0OGQyYmI4NGU0NTQ0Y2Q2MjYyNWI0MmFjNDgxYTgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.8idoj74wxtWsQgdhSL09qvWp62Mv7Mzkl3uuiDYUyD4")}}return(t=o).ɵfac=function(o){return new(o||t)},t.ɵprov=r.jDH({token:t,factory:t.ɵfac,providedIn:"root"}),o})();class k{constructor(){this.sanitizer=(0,r.WQX)(c.up),this.isNotStatic=(0,r.WQX)(d.Hs)||(0,s.Vy)((0,r.WQX)(r.Agw)),this.isE2E=(0,r.WQX)(d.Hs),this.builtInTools=[p.TuiEditorTool.Undo,p.TuiEditorTool.Link,p.TuiEditorTool.Attach],this.control=new a.MJ(this.isNotStatic?"":'\n            <p>Here is video: </p>\n\n            <video controls="controls" width="100%" preload="auto" controlsList="nodownload">\n                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">\n            </video>\n\n            <p>Here is audio: </p>\n            <audio controls style="width: 100%" preload="auto" controlsList="nodownload">\n              <source src="https://www.w3docs.com/build/audios/audio.mp3" type="audio/mp3">\n            </audio>\n\n            <p></p>\n            ',a.k0.required)}safe(t){return this.sanitizer.bypassSecurityTrustHtml(t??"")}attach([t]){const o=`${t?.attrs?.type??""}`.split("/")[0];this.wysiwyg?.editor?.getOriginTiptapEditor()?.commands.insertContent(`<${o} controls width="100%"><source src="${t?.link}" type="${t?.attrs?.type}"></${o}><p><a href="${t?.link}" download="${t?.name}">Download ${t?.name}</a></p>`)}}(i=k).ɵfac=function(t){return new(t||i)},i.ɵcmp=r.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&r.GBs(p.TuiEditor,5),2&t){let t;r.mGM(t=r.lsd())&&(o.wysiwyg=t.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(t,o){2&t&&r.AVh("_e2e",o.isE2E)},standalone:!0,features:[r.Jv_([(0,p.provideTuiEditor)({video:!0,audio:!0,source:!0}),{provide:p.TUI_ATTACH_FILES_LOADER,deps:[f],useFactory:t=>([o])=>{if(!o)return(0,m.of)([]);const e=new FileReader;return e.readAsDataURL(o),(0,l.xM)(e,"load").pipe((0,T.n)(()=>t.save(String(e.result))),(0,h.T)(t=>[{link:t,name:o.name,attrs:{type:o.type}}]))}},{provide:p.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"video/mp4,video/x-m4v,video/*,audio/x-m4a,audio/*",multiple:!1}}]),r.aNF],decls:10,vars:5,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"closeOthers"],[3,"tuiAccordion"],[4,"tuiItem"],[3,"content"]],template:function(t,o){1&t&&(r.j41(0,"tui-editor",0),r.bIt("fileAttached",function(t){return o.attach(t)}),r.k0s(),r.j41(1,"tui-accordion",1)(2,"button",2),r.EFF(3,"HTML"),r.k0s(),r.j41(4,"tui-expand"),r.DNE(5,E,2,1,"ng-container",3),r.k0s(),r.j41(6,"button",2),r.EFF(7,"Text"),r.k0s(),r.j41(8,"tui-expand"),r.DNE(9,M,2,1,"ng-container",3),r.k0s()()),2&t&&(r.Y8G("formControl",o.control)("tools",o.builtInTools),r.R7$(1),r.Y8G("closeOthers",!1),r.R7$(1),r.Y8G("tuiAccordion",o.isE2E),r.R7$(4),r.Y8G("tuiAccordion",o.isE2E))},dependencies:[a.X1,a.BC,a.l_,y.o3,y.S3,w.d,I.K,p.TuiEditor,p.TuiEditorSocket],styles:["._e2e[_nghost-%COMP%]     video::-webkit-media-controls-current-time-display, ._e2e[_nghost-%COMP%]     video::-webkit-media-controls-time-remaining-display, ._e2e[_nghost-%COMP%]     audio::-webkit-media-controls-current-time-display, ._e2e[_nghost-%COMP%]     audio::-webkit-media-controls-time-remaining-display{display:none}"],changeDetection:0}),(0,n.Cg)([u.PE],k.prototype,"safe",null);const v=k}}]);