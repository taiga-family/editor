(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[8175],{8175:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(6610),i=o(2978),r=o(7222),s=o(4732),l=o(8627),a=o(613),u=o(8361),c=o(6347);function d(e){return t=>(e.loading$.next(!0),(0,u.p)(t.map(t=>e.upload(t))).pipe((0,c.j)(()=>e.loading$.next(!1))))}var h=o(3308),p=o(5981),f=o(8240),T=o(3527);let m=(()=>{var e;class t{constructor(){this.loading$=new p.t(!1)}upload(e){const t=new FormData;return t.append("file",e,e.name),t.append("expires","1d"),t.append("autoDelete","true"),(0,f.H)(fetch("https://file.io/",{mode:"no-cors",method:"POST",body:t}).then(function(){var e=(0,h.A)(function*(e){return e.json()});return function(t){return e.apply(this,arguments)}}())).pipe((0,T.T)(e=>({name:e.name,link:e.link,attrs:{class:"file-link"}})))}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),t})();const v=(()=>{var e;class t{constructor(){this.fileIoService=(0,i.WQX)(m),this.builtInTools=[a.TuiEditorTool.Undo,a.TuiEditorTool.Link,a.TuiEditorTool.Attach],this.control=new r.MJ("")}attach(e){e.forEach(e=>this.wysiwyg?.editor?.setFileLink(e))}}return(e=t).ɵfac=function(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&i.GBs(a.TuiEditor,5),2&e){let e;i.mGM(e=i.lsd())&&(t.wysiwyg=e.first)}},standalone:!0,features:[i.Jv_([{provide:a.TUI_EDITOR_EXTENSIONS,useValue:[Promise.resolve().then(o.bind(o,613)).then(({TuiStarterKit:e})=>e),o.e(5377).then(o.bind(o,5377)).then(({TextStyle:e})=>e),Promise.resolve().then(o.bind(o,613)).then(({TuiLink:e})=>e),Promise.resolve().then(o.bind(o,613)).then(({TuiJumpAnchor:e})=>e),Promise.resolve().then(o.bind(o,613)).then(({TuiFileLink:e})=>e)]},{provide:a.TUI_ATTACH_FILES_LOADER,deps:[m],useFactory:d}]),i.aNF],decls:4,vars:6,consts:[[3,"showLoader"],[1,"editor",3,"formControl","tools","fileAttached"],[3,"value"]],template:function(e,t){1&e&&(i.j41(0,"tui-loader",0),i.nI1(1,"async"),i.j41(2,"tui-editor",1),i.bIt("fileAttached",function(e){return t.attach(e)}),i.k0s()(),i.nrm(3,"tui-content-table",2)),2&e&&(i.Y8G("showLoader",!!i.bMT(1,4,t.fileIoService.loading$)),i.R7$(2),i.Y8G("formControl",t.control)("tools",t.builtInTools),i.R7$(1),i.Y8G("value",t.control.value))},dependencies:[n.Jj,r.X1,r.BC,r.l_,s.C,a.TuiEditor,l.ap],styles:[".editor[_ngcontent-%COMP%]     .tui-editor-socket .ProseMirror{min-block-size:10rem}"],changeDetection:0}),t})()}}]);