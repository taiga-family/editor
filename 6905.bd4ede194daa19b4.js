(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[6905],{6905:e=>{e.exports="import {Injectable} from '@angular/core';\nimport type {TuiEditorAttachedFile} from '@taiga-ui/editor';\nimport type {Observable} from 'rxjs';\nimport {BehaviorSubject, from, map} from 'rxjs';\n\n/**\n * @description:\n * You can get your credentials for testing API\n * by free file.io account:\n * https://www.file.io/plans\n */\nconst fileIO = {\n    host: 'https://file.io/',\n    autoDelete: 'true',\n    expires: '1d',\n};\n\n// TODO: remove file.io\n@Injectable({\n    providedIn: 'root',\n})\nexport class FileIoService {\n    public readonly loading$ = new BehaviorSubject(false);\n\n    public upload(file: File): Observable<TuiEditorAttachedFile> {\n        const body = new FormData();\n\n        body.append('file', file, file.name);\n        body.append('expires', fileIO.expires);\n        body.append('autoDelete', fileIO.autoDelete);\n\n        return from(\n            fetch(fileIO.host, {\n                mode: 'no-cors',\n                method: 'POST',\n                body,\n            }).then(async (response: Response) => response.json()),\n        ).pipe(\n            map((result) => ({\n                name: result.name,\n                link: result.link,\n                attrs: {\n                    class: 'file-link',\n                },\n            })),\n        );\n    }\n}\n"}}]);