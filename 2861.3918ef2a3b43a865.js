(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[2861],{2861:(t,e,i)=>{i.r(e),i.d(e,{default:()=>A});var o,n=i(7270),r=i(6610),s=i(2978),a=i(7222),c=i(6098),d=i(7492),l=i(2496),u=i(4314),p=i(540),f=i(756),h=i(3527),m=i(6173),T=i(1333),E=i(7920);function b(t,e){if(1&t&&(s.qex(0),s.nrm(1,"tui-editor-socket",4),s.bVm()),2&t){const t=s.XpG();s.R7$(1),s.Y8G("content",t.control.value)}}function k(t,e){if(1&t&&(s.qex(0),s.EFF(1),s.bVm()),2&t){const t=s.XpG();s.R7$(1),s.SpI(" ",t.control.value," ")}}class g{constructor(){this.sanitizer=(0,s.WQX)(c.up),this.isE2E=(0,s.WQX)(d.Hs),this.isNotStatic=(0,s.WQX)(d.Hs)||(0,r.Vy)((0,s.WQX)(s.Agw)),this.builtInTools=[p.TuiEditorTool.Undo,p.TuiEditorTool.Link,p.TuiEditorTool.Attach],this.control=new a.MJ(this.isNotStatic?"":'\n            <p>sample.pdf</p>\n            <iframe\n                data-type="iframe-editor"\n                src="https://mozilla.github.io/pdf.js/web/viewer.html?url=https://pdfobject.com/pdf/sample.pdf"\n                width="100%"\n                height="300"\n            ></iframe>\n            <p>Hello world</p>\n    ',a.k0.required)}safe(t){return this.sanitizer.bypassSecurityTrustHtml(t??"")}attach([t]){t&&(this.editor?.editorService.getOriginTiptapEditor()?.chain().focus("end").createParagraphNear().insertContent(t.name).run(),this.editor?.editorService.setIframe({allowfullscreen:!1,frameborder:null,src:`data:application/pdf;base64${t.link}`,width:"100%",height:300}))}}(o=g).ɵfac=function(t){return new(t||o)},o.ɵcmp=s.VBU({type:o,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&s.GBs(p.TuiEditor,5),2&t){let t;s.mGM(t=s.lsd())&&(e.editor=t.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(t,e){2&t&&s.AVh("_e2e",e.isNotStatic)},standalone:!0,features:[s.Jv_([(0,p.provideTuiEditor)({iframe:!0}),{provide:p.TUI_ATTACH_FILES_LOADER,useFactory:()=>([t])=>{if(!t)return(0,f.of)([]);const e=new FileReader;return e.readAsDataURL(t),(0,l.xM)(e,"load").pipe((0,h.T)(()=>[{name:t.name,link:String(e.result),attrs:{type:t.type}}]))}},{provide:p.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"application/pdf",multiple:!1}}]),s.aNF],decls:10,vars:5,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"closeOthers"],[3,"tuiAccordion"],[4,"tuiItem"],[3,"content"]],template:function(t,e){1&t&&(s.j41(0,"tui-editor",0),s.bIt("fileAttached",function(t){return e.attach(t)}),s.k0s(),s.j41(1,"tui-accordion",1)(2,"button",2),s.EFF(3,"HTML"),s.k0s(),s.j41(4,"tui-expand"),s.DNE(5,b,2,1,"ng-container",3),s.k0s(),s.j41(6,"button",2),s.EFF(7,"Text"),s.k0s(),s.j41(8,"tui-expand"),s.DNE(9,k,2,1,"ng-container",3),s.k0s()()),2&t&&(s.Y8G("formControl",e.control)("tools",e.builtInTools),s.R7$(1),s.Y8G("closeOthers",!1),s.R7$(1),s.Y8G("tuiAccordion",e.isE2E),s.R7$(4),s.Y8G("tuiAccordion",e.isE2E))},dependencies:[a.X1,a.BC,a.l_,m.o3,m.S3,T.d,E.K,p.TuiEditor,p.TuiEditorSocket],styles:[".editor[_ngcontent-%COMP%]{min-block-size:43.75rem}  iframe{border:.0625rem solid var(--tui-background-accent-1)}"],changeDetection:0}),(0,n.Cg)([u.PE],g.prototype,"safe",null);const A=g}}]);