(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[6781],{6781:(t,e,i)=>{i.r(e),i.d(e,{default:()=>wt});var n=i(2978),r=i(7222),o=i(613),a=i(6610),s=i(4135),c=i(8262),l=i(5173),u=i(7002),d=i(9917),p=i(712),h=i(1028),m=i(5433),b=i(5851),g=i(9141),f=i(2496),v=i(4822),k=i(9406),w=i(2489),z=i(2831),C=i(8503),x=i(3527),M=i(7769),y=i(6340),P=i(9922);let _=(()=>{var t;class e extends k.c{constructor(){const t=(0,v.qW)(),e=(0,n.WQX)(a.qQ);super(i=>(0,w.h)((0,f.xM)(t,"touchstart",{passive:!0}),(0,f.xM)(t,"mousedown")).pipe((0,z.n)(()=>(0,w.h)((0,f.xM)(e,"touchmove",{passive:!0}).pipe((0,C.p)(({touches:t})=>t.length<2),(0,x.T)(({touches:t})=>t[0])),(0,f.xM)(e,"mousemove"))),(0,M.J)(),(0,x.T)(([t,e])=>[(e?.clientX??0)-(t?.clientX??0),(e?.clientY??0)-(t?.clientY??0)]),(0,y.Q)((0,w.h)((0,f.xM)(e,"touchend"),(0,f.xM)(e,"mouseup"))),(0,P.u)()).subscribe(i))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵprov=n.jDH({token:t,factory:t.ɵfac}),e})(),O=(()=>{var t;class e{constructor(){this.tuiPan=(0,n.WQX)(_)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=n.FsC({type:t,selectors:[["","tuiPan",""]],outputs:{tuiPan:"tuiPan"},standalone:!0,features:[n.Jv_([_])]}),e})();var S=i(4314),$=i(5045);const I=new n.nKC("",{factory:()=>({wheelSensitivity:.01})});let G=(()=>{var t;class e extends k.c{constructor(){const t=(0,v.qW)(),{wheelSensitivity:e}=(0,n.WQX)(I);super(i=>(0,w.h)((0,f.xM)(t,"touchstart",{passive:!0}).pipe((0,C.p)(({touches:t})=>t.length>1),(0,z.n)(e=>(0,f.xM)(t,"touchmove",{passive:!0}).pipe((0,f.QA)(),(0,$.S)((t,e)=>{const i=(0,S.dg)(e);return{event:e,distance:i,delta:.01*(i-t.distance)}},{event:e,distance:(0,S.dg)(e),delta:0}),(0,x.T)(({event:t,delta:e})=>({clientX:((t.touches[0]?.clientX??0)+(t.touches[1]?.clientX??0))/2,clientY:((t.touches[0]?.clientY??0)+(t.touches[1]?.clientY??0))/2,delta:e,event:t})),(0,y.Q)((0,f.xM)(t,"touchend"))))),(0,f.xM)(t,"wheel",{passive:!1}).pipe((0,f.QA)(),(0,x.T)(t=>({clientX:t.clientX,clientY:t.clientY,delta:-t.deltaY*e,event:t})))).subscribe(i))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵprov=n.jDH({token:t,factory:t.ɵfac}),e})(),j=(()=>{var t;class e{constructor(){this.tuiZoom=(0,n.WQX)(G)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=n.FsC({type:t,selectors:[["","tuiZoom",""]],hostVars:2,hostBindings:function(t,e){2&t&&n.xc7("touch-action","none")},outputs:{tuiZoom:"tuiZoom"},standalone:!0,features:[n.Jv_([G])]}),e})();var X=i(9131),T=i(756),B=i(3229),N=i(965),V=i(5981),A=i(199),R=i(7270),D=i(7212),W=(i(4926),i(811),i(8486)),Y=(i(7236),i(656));i(1432);const E=["type","range","tuiSlider",""],H=["tuiSliderThumbLabel",""];function Z(t,e){1&t&&n.eu8(0)}const Q=["*",[["input","type","range"]]],F=["*","input[type=range]"];function J(t,e){const i=t.findIndex((t,i)=>i&&e(t));return[t[i-1]||t[0],t[i]||t[t.length-1]||[0,0]]}const U={size:"m",trackColor:"var(--tui-background-neutral-2)"},q=new n.nKC("",{factory:()=>U});let L=(()=>{var t;class e{constructor(){this.control=(0,n.WQX)(r.vO,{self:!0,optional:!0}),this.options=(0,n.WQX)(q),this.segments=(0,n.vPA)([1]),this.ticksGradient=(0,n.EWP)((t=this.segments())=>this.getTicksGradient(t)),this.size=this.options.size,this.el=(0,v.qW)(),this.keySteps=(0,n.WQX)(K,{self:!0,optional:!0}),this.control instanceof r.vS&&this.control.valueChanges?.pipe((0,f.Eb)(),(0,W.s)(1)).subscribe()}set segmentsSetter(t){this.segments.set(t)}get valueRatio(){return(this.value-this.min)/(this.max-this.min)||0}get min(){return Number(this.el.min)}set min(t){this.el.min=String(t)}get max(){return Number(this.el.max||100)}set max(t){this.el.max=String(t)}get step(){return this.el.step?"any"===this.el.step?0:Number(this.el.step):1}set step(t){this.el.step=String(t)}get value(){if(this.control instanceof r.vS){const t=this.keySteps?.transformer(),e=t?t.fromControlValue(this.control.value):this.control.viewModel;return this.step?(0,p.zM)(Math.round(e/this.step)*this.step,7):e}return Number(this.el.value)||0}set value(t){this.el.value=`${t}`}getTicksGradient(t){if(t.length<=1)return"linear-gradient(to right, transparent 0 100%)";const e=t.filter(t=>t>0&&t<1).map(t=>100*t);return e.reduce((t,i,n)=>`${t}\n                var(--tui-text-tertiary) ${i}% calc(${i}% + var(--t-tick-thickness)),\n                transparent ${i}% ${e[n+1]??100}%${e[n+1]?",":")"}\n                `,`linear-gradient(to right, transparent 0 ${e[0]}%,`)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["input","type","range","tuiSlider",""]],hostVars:7,hostBindings:function(t,e){1&t&&n.bIt("input",function(){return 0}),2&t&&(n.BMQ("data-size",e.size),n.xc7("--tui-slider-track-color",e.options.trackColor)("--tui-ticks-gradient",e.ticksGradient())("--tui-slider-fill-ratio",e.valueRatio))},inputs:{size:"size",segmentsSetter:["segments","segmentsSetter",t=>Array.isArray(t)?t:new Array(t).fill(null).map((e,i)=>i/t)]},standalone:!0,features:[n.Jv_([(0,Y.Nv)(t)]),n.GFd,n.aNF],attrs:E,decls:0,vars:0,template:function(t,e){},styles:['[_nghost-%COMP%]{--t-tick-thickness: .25rem;position:relative;display:block;inline-size:100%;color:var(--tui-background-accent-1);cursor:pointer;-webkit-appearance:none;appearance:none;block-size:.125rem;padding:.4375rem 0;background-color:transparent;background-clip:content-box;outline:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:active{cursor:ew-resize}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:auto}[data-size=s][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.25rem;left:var(--t-left);inset-inline-start:var(--t-left);inline-size:.5rem;block-size:.5rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));--t-left: calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .5rem);content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=s][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[data-size=m][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.125rem;left:var(--t-left);inset-inline-start:var(--t-left);inline-size:.75rem;block-size:.75rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));--t-left: calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .75rem);content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=m][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[_nghost-%COMP%]::-webkit-slider-container{border-radius:inherit}[data-size=m][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:var(--tui-ticks-gradient),linear-gradient(to var(--tui-inline-end),currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:calc((.75rem - var(--t-tick-thickness)) / 2),0;background-size:calc(100% - .75rem),auto}[data-size=s][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:var(--tui-ticks-gradient),linear-gradient(to var(--tui-inline-end),currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:calc((.5rem - var(--t-tick-thickness)) / 2),0;background-size:calc(100% - .5rem),auto}[data-size=m][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:var(--tui-ticks-gradient);background-position-x:calc((.75rem - var(--t-tick-thickness)) / 2);background-size:calc(100% - .75rem)}[data-size=s][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:var(--tui-ticks-gradient);background-position-x:calc((.5rem - var(--t-tick-thickness)) / 2);background-size:calc(100% - .5rem)}[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-block-start:-.4375rem}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-block-start:-.4375rem}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=m][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[_nghost-%COMP%]::-moz-range-progress{border-radius:inherit}[_nghost-%COMP%]::-moz-range-progress{block-size:.125rem;background:currentColor;border-top-right-radius:0;border-bottom-right-radius:0}tui-textfield   [type="range"][_nghost-%COMP%]{--tui-radius: var(--tui-radius-m);position:absolute;top:100%;left:calc(var(--tui-radius) / 2);right:calc(var(--tui-radius) / 2);inline-size:calc(100% - calc(var(--tui-radius) / 2) * 2);box-sizing:border-box;block-size:1rem;margin:-.5625rem 0 0;padding:0;border-top-left-radius:0;border-bottom-left-radius:calc(var(--tui-radius) * 10) calc(var(--tui-radius) * 2);pointer-events:auto}tui-textfield[data-size="l"]   [type="range"][_nghost-%COMP%]{--tui-radius: var(--tui-radius-l)}'],changeDetection:0}),e})(),K=(()=>{var t;class e{constructor(){this.injector=(0,n.WQX)(n.duS),this.control=(0,n.WQX)(r.vO,{self:!0,optional:!0}),this.step=1,this.transformer=(0,n.vPA)(null),this.value=(0,D.ot)((0,B.O)(0).pipe((0,z.n)(()=>(0,f.lD)(this.control))))}get slider(){return this.injector.get(L)}set keySteps(t){var e,i;this.transformer.set(t&&(e=t,i=this.slider,new class{fromControlValue(t){const n=function(t,e){const[[i,n],[r,o]]=J(e,([e,i])=>t<=i);return(r-i)*((t-n)/(o-n)||0)+i}(t,e);return n*(i.max-i.min)/100+i.min}toControlValue(t){return function(t,e){const[[i,n],[r,o]]=J(e,([e,i])=>t<=e),a=(t-i)/(r-i)*(o-n)+n;return(0,p.zM)(a,7)}(100*((t-i.min)/(i.max-i.min)||0),e)}})),this.min=t?.[0][1],this.max=t?.[t.length-1]?.[1]}get totalSteps(){return this.step?Math.round(100/this.step):1/0}takeStep(t){const e=this.slider.value+t;return this.transformer()?.toControlValue(this.slider.value+t)??e}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=n.FsC({type:t,selectors:[["input","tuiSlider","","keySteps",""]],hostVars:3,hostBindings:function(t,e){2&t&&n.BMQ("aria-valuemin",e.min)("aria-valuemax",e.max)("aria-valuenow",e.value())},inputs:{step:["step","step",t=>"any"===t?null:t],keySteps:"keySteps"},standalone:!0,features:[n.GFd]}),(0,R.Cg)([S.PE],e.prototype,"slider",null),e})();new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp"]);let tt=(()=>{var t;class e{ngAfterContentInit(){}get size(){return this.slider?.size||"m"}get ratio(){return this.slider?.valueRatio||0}get ghostStart(){return this.ratio*(this.slider?.el.offsetWidth||0)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["","tuiSliderThumbLabel",""]],contentQueries:function(t,e,i){if(1&t&&(n.wni(i,L,5),n.wni(i,r.vO,5)),2&t){let t;n.mGM(t=n.lsd())&&(e.slider=t.first),n.mGM(t=n.lsd())&&(e.control=t.first)}},standalone:!0,features:[n.Jv_([(0,X.dB)({direction:"top",appearance:"dark"})]),n.aNF],attrs:H,ngContentSelectors:F,decls:5,vars:10,consts:[[4,"ngIf"],[1,"t-ghost"]],template:function(t,e){1&t&&(n.NAR(Q),n.DNE(0,Z,1,0,"ng-container",0),n.nI1(1,"async"),n.j41(2,"div",1),n.SdG(3),n.k0s(),n.SdG(4,1)),2&t&&(n.Y8G("ngIf",n.bMT(1,8,null==e.control?null:e.control.valueChanges)),n.R7$(2),n.xc7("--tui-slider-thumb-ratio",e.ratio)("inset-inline-start",e.ghostStart,"px")("left",e.ghostStart,"px"),n.BMQ("data-size",e.size))},dependencies:[a.Jj,a.bT],styles:['[_nghost-%COMP%]{position:relative}.t-ghost[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:auto;border-radius:50%;pointer-events:none}.t-ghost[data-size=s][_ngcontent-%COMP%]{inline-size:.5rem;block-size:.5rem;transform:translate(calc(var(--tui-slider-thumb-ratio) * -.5rem * var(--tui-inline)))}.t-ghost[data-size=m][_ngcontent-%COMP%]{inline-size:.75rem;block-size:.75rem;transform:translate(calc(var(--tui-slider-thumb-ratio) * -.75rem * var(--tui-inline)))}@supports (inset-inline-end: 0){[dir="rtl"][_nghost-%COMP%]   .t-ghost[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .t-ghost[_ngcontent-%COMP%]{left:unset!important}}'],changeDetection:0}),e})();function et(t,e){if(1&t&&(n.qex(0),n.EFF(1),n.bVm()),2&t){const t=e.polymorpheusOutlet;n.R7$(1),n.SpI(" ",t," ")}}function it(t,e){if(1&t&&(n.EFF(0),n.nI1(1,"percent"),n.nI1(2,"async")),2&t){const t=n.XpG(2);n.SpI(" ",n.bMT(1,1,n.bMT(2,3,t.valueChange)||t.value)," ")}}const nt=function(){return{standalone:!0}};function rt(t,e){if(1&t){const t=n.RV6();n.qex(0),n.j41(1,"section",1)(2,"button",2),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.onMinus())}),n.EFF(3),n.k0s(),n.j41(4,"label",3),n.nrm(5,"div",4),n.nI1(6,"async"),n.DNE(7,it,3,5,"ng-template",null,5,n.C5r),n.j41(9,"input",6),n.bIt("ngModelChange",function(e){n.eBV(t);const i=n.XpG();return n.Njj(i.onModelChange(e))}),n.k0s()(),n.j41(10,"button",7),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.onPlus())}),n.EFF(11),n.k0s()(),n.j41(12,"button",8),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.onReset())}),n.k0s(),n.bVm()}if(2&t){const t=e.ngIf,i=n.sdS(8),r=n.XpG();n.R7$(2),n.Y8G("disabled",r.leftButtonDisabled)("iconStart",r.icons.zoomOut),n.R7$(1),n.SpI(" ",t.zoomOut," "),n.R7$(2),n.Y8G("tuiHint",i)("tuiHintManual",!!n.bMT(6,16,r.hintShow$)),n.R7$(4),n.Y8G("max",r.max)("min",r.min)("ngModel",r.value)("ngModelOptions",n.lJ4(18,nt)),n.R7$(1),n.Y8G("disabled",r.rightButtonDisabled)("iconStart",r.icons.zoomIn),n.R7$(1),n.SpI(" ",t.zoomIn," "),n.R7$(1),n.AVh("t-invisible",!r.collapseVisible),n.Y8G("iconStart",r.icons.zoomReset)("tuiHint",t.reset)}}function ot(t,e){if(1&t){const t=n.RV6();n.j41(0,"button",9),n.bIt("click",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.rotate())}),n.k0s()}if(2&t){const t=n.XpG().ngIf,e=n.XpG();n.Y8G("iconStart",e.icons.rotate)("tuiHint",t.rotate)}}function at(t,e){if(1&t){const t=n.RV6();n.j41(0,"tui-preview-zoom",10),n.bIt("reset",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.reset())})("valueChange",function(e){n.eBV(t);const i=n.XpG(2);return n.Njj(i.setZoom(e))}),n.nI1(1,"async"),n.k0s()}if(2&t){const t=n.XpG(2);n.Y8G("min",t.minZoom)("value",n.bMT(1,2,t.zoom$)||1)}}function st(t,e){if(1&t){const t=n.RV6();n.qex(0),n.j41(1,"section",1,2),n.bIt("tuiPan",function(e){n.eBV(t);const i=n.XpG();return n.Njj(i.onPan(e))})("tuiZoom",function(e){n.eBV(t);const i=n.XpG();return n.Njj(i.onZoom(e))})("waMutationObserver",function(){n.eBV(t);const e=n.sdS(2),i=n.XpG();return n.Njj(i.onMutation(e))})("waResizeObserver",function(e){n.eBV(t);const i=n.XpG();return n.Njj(i.onResize(e))}),n.nI1(3,"async"),n.nI1(4,"async"),n.nI1(5,"async"),n.SdG(6),n.k0s(),n.j41(7,"header",3)(8,"div",4),n.SdG(9,1),n.k0s(),n.SdG(10,2),n.j41(11,"div",5),n.SdG(12,3),n.k0s()(),n.j41(13,"footer",6),n.DNE(14,ot,1,2,"button",7),n.DNE(15,at,2,4,"tui-preview-zoom",8),n.k0s(),n.bVm()}if(2&t){const t=n.XpG();n.R7$(1),n.xc7("cursor",n.bMT(3,10,t.cursor$))("transform",n.bMT(4,12,t.wrapperTransform$)),n.AVh("t-not-interactive-content",t.zoomable)("t-transitive",n.bMT(5,14,t.transitioned$)),n.R7$(13),n.Y8G("ngIf",t.rotatable),n.R7$(1),n.Y8G("ngIf",t.zoomable)}}const ct=["*",[["tui-preview-title"]],[["tui-preview-pagination"]],[["","tuiPreviewAction",""]]],lt=["*","tui-preview-title","tui-preview-pagination","[tuiPreviewAction]"];let ut=(()=>{var t;class e{}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=n.FsC({type:t,selectors:[["","tuiPreviewAction",""]],hostVars:2,hostBindings:function(t,e){2&t&&n.xc7("border-radius",100,"rem")},standalone:!0,features:[n.Jv_([(0,s.e)({appearance:"preview-action",size:"s"})])]}),e})(),dt=(()=>{var t;class e{constructor(){this.context=(0,l.Dm)()}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["tui-preview-dialog"]],hostBindings:function(t,e){1&t&&n.bIt("keydown.esc.prevent",function(){return e.context.$implicit.complete()},!1,n.EBC)},standalone:!0,features:[n.aNF,n.nM4([c.QH])],decls:1,vars:2,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(t,e){1&t&&n.DNE(0,et,2,1,"ng-container",0),2&t&&n.Y8G("polymorpheusOutlet",e.context.content)("polymorpheusOutletContext",e.context)},dependencies:[l.xr],styles:["tui-preview-dialog{inline-size:100%;block-size:100%}tui-preview-dialog.tui-enter,tui-preview-dialog.tui-leave{animation-name:tuiFade,tuiSlide}[tuiAppearance][data-appearance=preview-action]{background:#686868f5;color:#fff}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=preview-action]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):hover:not(:disabled):not([data-state]){background:#9f9f9fdb}}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=preview-action]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):hover:not(:disabled):not([data-state]){background:#9f9f9fdb}}[tuiAppearance][data-appearance=preview-action][data-state=hover]{background:#9f9f9fdb}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=preview-action][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=preview-action][tuiWrapper][data-state=hover]{background:#9f9f9fdb}}[tuiAppearance][data-appearance=preview-action]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):active:not(:disabled):not([data-state]){background:#9f9f9fbf}[tuiAppearance][data-appearance=preview-action]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):active:not(:disabled):not([data-state]){background:#9f9f9fbf}[tuiAppearance][data-appearance=preview-action][data-state=active]{background:#9f9f9fbf}[tuiAppearance][data-appearance=preview-action][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=preview-action][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=preview-action][tuiWrapper][data-state=active]:hover{background:#9f9f9fbf}\n"],encapsulation:2,changeDetection:0}),e})(),pt=(()=>{var t;class e extends u.bL{}return(t=e).ɵfac=function(){let e;return function(i){return(e||(e=n.xGo(t)))(i||t)}}(),t.ɵprov=n.jDH({token:t,factory:function(){return new t(d.lb,dt)},providedIn:"root"}),e})(),ht=(()=>{var t;class e{constructor(){this.icons=(0,n.WQX)(h.XW),this.zoomTexts$=(0,n.WQX)(h.jO),this.min=.5,this.max=2,this.value=1,this.valueChange=new n.bkB,this.reset=new n.bkB,this.hintShow$=this.valueChange.pipe((0,z.n)(()=>(0,w.h)((0,T.of)(!0),(0,B.O)(1e3).pipe((0,x.T)(g.s_)))),(0,N.Z)(!1))}get leftButtonDisabled(){return this.value===this.min}get rightButtonDisabled(){return this.value===this.max}get collapseVisible(){return this.value>this.min}onModelChange(t){const e=(0,p.wN)(t,this.min,this.max);e!==this.value&&(this.value=e,this.valueChange.emit(e))}onReset(){this.reset.emit()}onMinus(){this.onModelChange(this.value-.5)}onPlus(){this.onModelChange(this.value<1?1:this.value+.5)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["tui-preview-zoom"]],inputs:{min:"min",max:"max",value:"value"},outputs:{valueChange:"valueChange",reset:"reset"},standalone:!0,features:[n.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"t-zoom"],["tuiIconButton","","tuiPreviewAction","","type","button",1,"t-sign_minus",3,"disabled","iconStart","click"],["tuiSliderThumbLabel",""],[3,"tuiHint","tuiHintManual"],["hint",""],["step","any","tuiSlider","","tuiTheme","dark","type","range",1,"t-slider",3,"max","min","ngModel","ngModelOptions","ngModelChange"],["tuiIconButton","","tuiPreviewAction","","type","button",1,"t-sign_plus",3,"disabled","iconStart","click"],["tuiHintAppearance","dark","tuiHintDescribe","","tuiHintDirection","top-right","tuiIconButton","","tuiPreviewAction","","type","button",1,"t-reset-button",3,"iconStart","tuiHint","click"]],template:function(t,e){1&t&&(n.DNE(0,rt,13,19,"ng-container",0),n.nI1(1,"async")),2&t&&n.Y8G("ngIf",n.bMT(1,1,e.zoomTexts$))},dependencies:[a.Jj,r.YN,r.me,r.MR,r.BC,r.vS,a.bT,a.m1,s.p,X.XZ,X.$$,X.Uu,ut,L,tt],styles:["[_nghost-%COMP%]{position:relative;display:flex}.t-zoom[_ngcontent-%COMP%]{border-radius:1rem;background:#686868f5;color:#fff;display:flex;font:var(--tui-font-text-s);justify-content:space-between;align-items:center;inline-size:12rem}.t-slider[_ngcontent-%COMP%]{inline-size:7.5rem}.t-sign_minus[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.t-sign_plus[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.t-invisible[_ngcontent-%COMP%]{visibility:hidden}.t-reset-button[_ngcontent-%COMP%]{margin-inline-start:.3125rem}"],changeDetection:0}),e})();const mt=[0,0];let bt=(()=>{var t;class e{constructor(){this.el=(0,v.qW)(),this.minZoom=1,this.width=0,this.height=0,this.texts$=(0,n.WQX)(h.Ve),this.icons=(0,n.WQX)(h.XW),this.cdr=(0,n.WQX)(n.gRc),this.zoom$=new V.t(this.minZoom),this.rotation$=new V.t(0),this.coordinates$=new V.t(mt),this.transitioned$=(0,w.h)((0,f.D7)(this.el).pipe((0,x.T)(({stage:t})=>"continues"!==t)),(0,f.xM)(this.el,"touchmove",{passive:!0}).pipe((0,x.T)(g.s_)),(0,f.xM)(this.el,"wheel",{passive:!0}).pipe((0,x.T)(g.s_))),this.cursor$=(0,f.D7)(this.el).pipe((0,x.T)(({stage:t})=>"continues"===t?"grabbing":"initial"),(0,N.Z)("initial")),this.wrapperTransform$=(0,A.z)([this.coordinates$.pipe((0,x.T)(([t,e])=>`${(0,S.Pp)(t)}, ${(0,S.Pp)(e)}`)),this.zoom$,this.rotation$]).pipe((0,x.T)(([t,e,i])=>`translate(${t}) scale(${e}) rotate(${i}deg)`)),this.zoomable=!0,this.rotatable=!1,this.initialScale=.8}rotate(){this.rotation$.next(this.rotation$.value-90)}onPan(t){this.coordinates$.next(this.getGuardedCoordinates(this.coordinates$.value[0]+t[0],this.coordinates$.value[1]+t[1]))}onMutation(t){const{clientWidth:e,clientHeight:i}=t;this.refresh(e,i)}onZoom({clientX:t,clientY:e,delta:i}){this.zoomable&&this.processZoom(t,e,i)}onResize([t]){t?.contentRect&&(this.refresh(t.contentRect.width,t.contentRect.height),this.cdr.detectChanges())}reset(){this.zoom$.next(this.minZoom),this.coordinates$.next(mt)}setZoom(t){this.zoom$.next(t);const[e,i]=this.coordinates$.value;this.coordinates$.next(this.getGuardedCoordinates(e,i))}get offsets(){return{offsetX:(this.zoom$.value-this.minZoom)*this.width/2,offsetY:(this.zoom$.value-this.minZoom)*this.height/2}}calculateMinZoom(t,e,i,n){const r=t>i*this.initialScale||e>n*this.initialScale,{clientHeight:o,clientWidth:a}=this.el;return r?(0,p.zM)(Math.min(o*this.initialScale/t,a*this.initialScale/e),2):1}refresh(t,e){this.width=t,this.height=e,this.minZoom=this.calculateMinZoom(e,t,this.el.clientHeight,this.el.clientWidth),this.zoom$.next(this.minZoom),this.coordinates$.next(mt),this.rotation$.next(0)}processZoom(t,e,i){const n=this.zoom$.value,r=(0,p.wN)(n+i,this.minZoom,2),o=this.getScaleCenter({clientX:t,clientY:e},this.coordinates$.value,this.zoom$.value),a=o[0]*n-o[0]*r,s=o[1]*n-o[1]*r;this.zoom$.next(r),this.coordinates$.next(this.getGuardedCoordinates(this.coordinates$.value[0]+a,this.coordinates$.value[1]+s))}getGuardedCoordinates(t,e){const{offsetX:i,offsetY:n}=this.offsets;return[(0,p.wN)(t,-i,i),(0,p.wN)(e,-n,n)]}getScaleCenter({clientX:t,clientY:e},[i,n],r){return[(t-i-this.el.offsetWidth/2)/r,(e-n-this.el.offsetHeight/2)/r]}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["tui-preview"]],inputs:{zoomable:"zoomable",rotatable:"rotatable",initialScale:"initialScale"},standalone:!0,features:[n.aNF],ngContentSelectors:lt,decls:2,vars:3,consts:[[4,"ngIf"],["attributeFilter","src","characterData","","childList","","subtree","",1,"t-wrapper",3,"tuiPan","tuiZoom","waMutationObserver","waResizeObserver"],["contentWrapper",""],[1,"t-header"],[1,"t-title"],[1,"t-actions"],[1,"t-footer"],["tuiHintAppearance","dark","tuiHintDescribe","","tuiHintDirection","top-right","tuiIconButton","","tuiPreviewAction","","type","button","class","t-rotate-button",3,"iconStart","tuiHint","click",4,"ngIf"],[3,"min","value","reset","valueChange",4,"ngIf"],["tuiHintAppearance","dark","tuiHintDescribe","","tuiHintDirection","top-right","tuiIconButton","","tuiPreviewAction","","type","button",1,"t-rotate-button",3,"iconStart","tuiHint","click"],[3,"min","value","reset","valueChange"]],template:function(t,e){1&t&&(n.NAR(ct),n.DNE(0,st,16,16,"ng-container",0),n.nI1(1,"async")),2&t&&n.Y8G("ngIf",n.bMT(1,1,e.texts$))},dependencies:[a.Jj,a.bT,s.p,X.XZ,X.$$,O,ut,ht,j,m.Gs,b.DQ],styles:["[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;inline-size:100%;block-size:100%;-webkit-user-select:none;user-select:none}.t-header[_ngcontent-%COMP%]{position:fixed;top:max(1rem,env(safe-area-inset-top));display:flex;inline-size:100%;padding:0 1rem;box-sizing:border-box}.t-footer[_ngcontent-%COMP%]{position:absolute;bottom:max(1rem,env(safe-area-inset-bottom));display:flex;inline-size:100%;padding:0 1rem;box-sizing:border-box;justify-content:center}.t-actions[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:flex-end}.t-actions[_ngcontent-%COMP%]    >*{margin-inline-start:.625rem}.t-rotate-button[_ngcontent-%COMP%]{margin-inline-end:.3125rem}.t-title[_ngcontent-%COMP%]{flex:1}tui-root._mobile[_nghost-%COMP%]   .t-title[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-title[_ngcontent-%COMP%]{display:none}.t-not-interactive-content[_ngcontent-%COMP%]    >*{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{will-change:transform}.t-transitive[_ngcontent-%COMP%]{transition-duration:.3s}"],changeDetection:0}),e})();const gt=["previewImages"];function ft(t,e){if(1&t&&n.nrm(0,"img",4),2&t){const t=n.XpG(2);n.Y8G("src",t.image.src,n.B4B)}}function vt(t,e){if(1&t){const t=n.RV6();n.j41(0,"tui-preview",1),n.DNE(1,ft,1,1,"img",2),n.j41(2,"button",3),n.bIt("click",function(){const e=n.eBV(t).$implicit;return n.Njj(e.complete())}),n.k0s()()}if(2&t){const t=n.XpG();n.Y8G("rotatable",!0),n.R7$(1),n.Y8G("ngIf",t.image)}}let kt=(()=>{var t;class e{constructor(){this.dialogs=(0,n.WQX)(pt)}showImage(t){this.image=t,this.dialogs.open(this.template||"").subscribe()}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["image-preview-example"]],viewQuery:function(t,e){if(1&t&&n.GBs(gt,5),2&t){let t;n.mGM(t=n.lsd())&&(e.template=t.first)}},standalone:!0,features:[n.aNF],decls:2,vars:0,consts:[["previewImages",""],[3,"rotatable"],["alt","","loading","lazy","class","t-image-preview",3,"src",4,"ngIf"],["iconStart","@tui.x","title","Close","tuiIconButton","","tuiPreviewAction","","type","button",3,"click"],["alt","","loading","lazy",1,"t-image-preview",3,"src"]],template:function(t,e){1&t&&n.DNE(0,vt,3,2,"ng-template",null,0,n.C5r)},dependencies:[a.bT,s.p,bt,ut],styles:[".t-image-preview[_ngcontent-%COMP%]{inline-size:100%}"],changeDetection:0}),e})();const wt=(()=>{var t;class e{constructor(){this.builtInTools=[o.TuiEditorTool.Undo,o.TuiEditorTool.Img],this.control=new r.MJ(""),this.control.patchValue('<p>Small image</p><img src="assets/images/lumberjack.png" width="300" /><p>Big image</p><img src="assets/images/big-wallpaper.jpg" width="500" />')}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=n.VBU({type:t,selectors:[["ng-component"]],standalone:!0,features:[n.Jv_([{provide:o.TUI_EDITOR_EXTENSIONS,deps:[n.zZn],useFactory:t=>[Promise.resolve().then(i.bind(i,613)).then(({TuiStarterKit:t})=>t),Promise.resolve().then(i.bind(i,613)).then(({tuiCreateImageEditorExtension:e})=>e({injector:t}))]}]),n.aNF],decls:6,vars:3,consts:[[1,"editor",3,"formControl","tools"],[3,"content","imagePreview"],["preview",""]],template:function(t,e){if(1&t){const t=n.RV6();n.nrm(0,"tui-editor",0),n.j41(1,"h4"),n.EFF(2,"HTML:"),n.k0s(),n.j41(3,"tui-editor-socket",1),n.bIt("imagePreview",function(e){n.eBV(t);const i=n.sdS(5);return n.Njj(i.showImage(e))}),n.nrm(4,"image-preview-example",null,2),n.k0s()}2&t&&(n.Y8G("formControl",e.control)("tools",e.builtInTools),n.R7$(3),n.Y8G("content",e.control.value||""))},dependencies:[kt,r.X1,r.BC,r.l_,o.TuiEditor,o.TuiEditorImagePreview,o.TuiEditorSocket],encapsulation:2,changeDetection:0}),e})()}}]);