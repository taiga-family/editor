(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[2861],{2861:(e,t,i)=>{i.r(t),i.d(t,{default:()=>T});var r,o=i(7270),n=i(6610),s=i(2978),a=i(7222),l=i(6098),d=i(811),c=i(2496),u=i(4314),p=i(4184),h=i(756),f=i(3527);class m{constructor(){this.sanitizer=(0,s.WQX)(l.up),this.isNotStatic=(0,s.WQX)(d.Hs)||(0,n.Vy)((0,s.WQX)(s.Agw)),this.builtInTools=[p.TuiEditorTool.Undo,p.TuiEditorTool.Link,p.TuiEditorTool.Attach],this.control=new a.MJ(this.isNotStatic?"":'\n            <p>sample.pdf</p>\n            <iframe\n                data-type="iframe-editor"\n                src="https://mozilla.github.io/pdf.js/web/viewer.html?url=https://pdfobject.com/pdf/sample.pdf"\n                width="100%"\n                height="300"\n            ></iframe>\n            <p>Hello world</p>\n    ',a.k0.required)}safe(e){return this.sanitizer.bypassSecurityTrustHtml(e??"")}attach([e]){e&&(this.editor?.editorService?.getOriginTiptapEditor()?.chain().focus("end").createParagraphNear().insertContent(e.name).run(),this.editor?.editorService?.setIframe({allowfullscreen:!1,frameborder:null,src:`data:application/pdf;base64${e.link}`,width:"100%",height:300}))}}(r=m).ɵfac=function(e){return new(e||r)},r.ɵcmp=s.VBU({type:r,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs(p.TuiEditor,5),2&e){let e;s.mGM(e=s.lsd())&&(t.editor=e.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("_e2e",t.isNotStatic)},standalone:!0,features:[s.Jv_([{provide:p.TUI_EDITOR_EXTENSIONS,deps:[s.duS],useFactory:e=>[Promise.resolve().then(i.bind(i,4184)).then(({TuiStarterKit:e})=>e),i.e(5377).then(i.bind(i,5377)).then(({TextStyle:e})=>e),Promise.resolve().then(i.bind(i,4184)).then(({TuiLink:e})=>e),Promise.resolve().then(i.bind(i,4184)).then(({TuiFileLink:e})=>e),Promise.resolve().then(i.bind(i,4184)).then(({tuiCreateIframeEditorExtension:t})=>t({injector:e}))]},{provide:p.TUI_ATTACH_FILES_LOADER,useFactory:()=>([e])=>{if(!e)return(0,h.of)([]);const t=new FileReader;return t.readAsDataURL(e),(0,c.xM)(t,"load").pipe((0,f.T)(()=>[{name:e.name,link:String(t.result),attrs:{type:e.type}}]))}},{provide:p.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"application/pdf",multiple:!1}}]),s.aNF],decls:8,vars:4,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.j41(0,"tui-editor",0),s.bIt("fileAttached",function(e){return t.attach(e)}),s.k0s(),s.j41(1,"h4"),s.EFF(2,"HTML:"),s.k0s(),s.nrm(3,"div",1),s.j41(4,"h4"),s.EFF(5,"Text:"),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()),2&e&&(s.Y8G("formControl",t.control)("tools",t.builtInTools),s.R7$(3),s.Y8G("innerHTML",t.safe(t.control.value),s.npT),s.R7$(4),s.JRh(t.control.value))},dependencies:[a.X1,a.BC,a.l_,p.TuiEditor],styles:[".editor[_ngcontent-%COMP%]{min-block-size:43.75rem}  iframe{border:.0625rem solid var(--tui-background-accent-1)}"],changeDetection:0}),(0,o.Cg)([u.PE],m.prototype,"safe",null);const T=m}}]);