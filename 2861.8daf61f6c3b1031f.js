(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[2861],{2861:(t,e,i)=>{i.r(e),i.d(e,{default:()=>b});var o,r=i(7270),n=i(6610),a=i(2978),s=i(7222),l=i(6098),d=i(4732),c=i(7492),u=i(2496),p=i(4314),f=i(540),h=i(756),m=i(3527);class T{constructor(){this.sanitizer=(0,a.WQX)(l.up),this.isNotStatic=(0,a.WQX)(c.Hs)||(0,n.Vy)((0,a.WQX)(a.Agw)),this.builtInTools=[f.TuiEditorTool.Undo,f.TuiEditorTool.Link,f.TuiEditorTool.Attach],this.control=new s.MJ(this.isNotStatic?"":'\n            <p>sample.pdf</p>\n            <iframe\n                data-type="iframe-editor"\n                src="https://mozilla.github.io/pdf.js/web/viewer.html?url=https://pdfobject.com/pdf/sample.pdf"\n                width="100%"\n                height="300"\n            ></iframe>\n            <p>Hello world</p>\n    ',s.k0.required)}safe(t){return this.sanitizer.bypassSecurityTrustHtml(t??"")}attach([t]){t&&(this.editor?.editorService.getOriginTiptapEditor()?.chain().focus("end").createParagraphNear().insertContent(t.name).run(),this.editor?.editorService.setIframe({allowfullscreen:!1,frameborder:null,src:`data:application/pdf;base64${t.link}`,width:"100%",height:300}))}}(o=T).ɵfac=function(t){return new(t||o)},o.ɵcmp=a.VBU({type:o,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&a.GBs(f.TuiEditor,5),2&t){let t;a.mGM(t=a.lsd())&&(e.editor=t.first)}},hostAttrs:[1,"html5-editor-example"],hostVars:2,hostBindings:function(t,e){2&t&&a.AVh("_e2e",e.isNotStatic)},standalone:!0,features:[a.Jv_([(0,f.provideTuiEditor)({iframe:!0}),{provide:f.TUI_ATTACH_FILES_LOADER,useFactory:()=>([t])=>{if(!t)return(0,h.of)([]);const e=new FileReader;return e.readAsDataURL(t),(0,u.xM)(e,"load").pipe((0,m.T)(()=>[{name:t.name,link:String(e.result),attrs:{type:t.type}}]))}},{provide:f.TUI_ATTACH_FILES_OPTIONS,useValue:{accept:"application/pdf",multiple:!1}}]),a.aNF],decls:2,vars:3,consts:[[1,"editor",3,"formControl","tools","fileAttached"],[3,"value"]],template:function(t,e){1&t&&(a.j41(0,"tui-editor",0),a.bIt("fileAttached",function(t){return e.attach(t)}),a.k0s(),a.nrm(1,"tui-content-table",1)),2&t&&(a.Y8G("formControl",e.control)("tools",e.builtInTools),a.R7$(1),a.Y8G("value",e.control.value))},dependencies:[s.X1,s.BC,s.l_,d.C,f.TuiEditor],styles:[".editor[_ngcontent-%COMP%]{min-block-size:43.75rem}  iframe{border:.0625rem solid var(--tui-background-accent-1)}"],changeDetection:0}),(0,r.Cg)([p.PE],T.prototype,"safe",null);const b=T}}]);