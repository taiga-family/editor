(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[5377],{5377:(t,e,r)=>{r.r(e),r.d(e,{TextStyle:()=>n,default:()=>n});var s=r(6426);const n=s.Mark.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!1}),parseHTML(){return[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(t=>{var e,r;const s=t.getAttribute("style"),n=null===(r=null===(e=t.parentElement)||void 0===e?void 0:e.closest("span"))||void 0===r?void 0:r.getAttribute("style");t.setAttribute("style",`${n};${s}`)})})(t),{})}]},renderHTML({HTMLAttributes:t}){return["span",(0,s.mergeAttributes)(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(e,r)=>{if(e.isTextblock)return!0;e.marks.filter(t=>t.type===this.type).some(t=>Object.values(t.attrs).some(t=>!!t))||t.removeMark(r,r+e.nodeSize,this.type)}),!0}}}})}}]);