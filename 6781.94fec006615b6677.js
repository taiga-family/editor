(self.webpackChunkeditor_demo=self.webpackChunkeditor_demo||[]).push([[6781],{6781:(t,e,n)=>{n.r(e),n.d(e,{default:()=>xt});var i=n(2978),r=n(7222),o=n(1062),a=n(6610),s=n(4135),c=n(712),u=n(1028),l=n(5433),d=n(5851),p=n(9141),m=n(2496),h=n(4822),b=n(9406),g=n(2489),f=n(2831),v=n(8503),w=n(3527),z=n(7769),k=n(6340),x=n(9922);let C=(()=>{var t;class e extends b.c{constructor(){const t=(0,h.qW)(),e=(0,i.WQX)(a.qQ);super((n=>(0,g.h)((0,m.xM)(t,"touchstart",{passive:!0}),(0,m.xM)(t,"mousedown")).pipe((0,f.n)((()=>(0,g.h)((0,m.xM)(e,"touchmove",{passive:!0}).pipe((0,v.p)((({touches:t})=>t.length<2)),(0,w.T)((({touches:t})=>t[0]))),(0,m.xM)(e,"mousemove")))),(0,z.J)(),(0,w.T)((([t,e])=>[(e?.clientX??0)-(t?.clientX??0),(e?.clientY??0)-(t?.clientY??0)])),(0,k.Q)((0,g.h)((0,m.xM)(e,"touchend"),(0,m.xM)(e,"mouseup"))),(0,x.u)()).subscribe(n)))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵprov=i.jDH({token:t,factory:t.ɵfac}),e})(),M=(()=>{var t;class e{constructor(){this.tuiPan=(0,i.WQX)(C)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=i.FsC({type:t,selectors:[["","tuiPan",""]],outputs:{tuiPan:"tuiPan"},standalone:!0,features:[i.Jv_([C])]}),e})();var y=n(4314),P=n(5045);const O=(0,y.gc)({wheelSensitivity:.01});let _=(()=>{var t;class e extends b.c{constructor(){const t=(0,h.qW)(),{wheelSensitivity:e}=(0,i.WQX)(O);super((n=>(0,g.h)((0,m.xM)(t,"touchstart",{passive:!0}).pipe((0,v.p)((({touches:t})=>t.length>1)),(0,f.n)((e=>(0,m.xM)(t,"touchmove",{passive:!0}).pipe((0,m.QA)(),(0,P.S)(((t,e)=>{const n=(0,y.dg)(e);return{event:e,distance:n,delta:.01*(n-t.distance)}}),{event:e,distance:(0,y.dg)(e),delta:0}),(0,w.T)((({event:t,delta:e})=>({clientX:((t.touches[0]?.clientX??0)+(t.touches[1]?.clientX??0))/2,clientY:((t.touches[0]?.clientY??0)+(t.touches[1]?.clientY??0))/2,delta:e,event:t}))),(0,k.Q)((0,m.xM)(t,"touchend")))))),(0,m.xM)(t,"wheel",{passive:!1}).pipe((0,m.QA)(),(0,w.T)((t=>({clientX:t.clientX,clientY:t.clientY,delta:-t.deltaY*e,event:t}))))).subscribe(n)))}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵprov=i.jDH({token:t,factory:t.ɵfac}),e})(),$=(()=>{var t;class e{constructor(){this.tuiZoom=(0,i.WQX)(_)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=i.FsC({type:t,selectors:[["","tuiZoom",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.xc7("touch-action","none")},outputs:{tuiZoom:"tuiZoom"},standalone:!0,features:[i.Jv_([_])]}),e})();var I=n(7187),S=n(9131),j=n(756),G=n(3229),X=n(965),T=n(5981),B=n(199),V=n(7270),N=n(7212),D=(n(4926),n(811),n(8486)),R=(n(7236),n(6175));n(1432);const A=["type","range","tuiSlider",""],W=["tuiSliderThumbLabel",""];function Y(t,e){1&t&&i.eu8(0)}const H=["*",[["input","type","range"]]],E=["*","input[type=range]"];function Z(t,e){const n=t.findIndex(((t,n)=>n&&e(t)));return[t[n-1]||t[0],t[n]||t[t.length-1]||[0,0]]}const Q=(0,y.gc)({size:"m",trackColor:"var(--tui-background-neutral-2)"});let F=(()=>{var t;class e{constructor(){this.control=(0,i.WQX)(r.vO,{self:!0,optional:!0}),this.options=(0,i.WQX)(Q),this.size=this.options.size,this.segments=1,this.el=(0,h.qW)(),this.keySteps=(0,i.WQX)(U,{self:!0,optional:!0}),this.control instanceof r.vS&&this.control.valueChanges?.pipe((0,m.Eb)(),(0,D.s)(1)).subscribe()}get valueRatio(){return(this.value-this.min)/(this.max-this.min)||0}get min(){return Number(this.el.min)}set min(t){this.el.min=String(t)}get max(){return Number(this.el.max||100)}set max(t){this.el.max=String(t)}get step(){return Number(this.el.step)||1}set step(t){this.el.step=String(t)}get value(){return!this.keySteps&&this.control instanceof r.vS?this.control.viewModel:Number(this.el.value)||0}set value(t){this.el.value=`${t}`}get segmentWidth(){return 100/Math.max(1,this.segments)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["input","type","range","tuiSlider",""]],hostVars:7,hostBindings:function(t,e){1&t&&i.bIt("input",(function(){return 0})),2&t&&(i.BMQ("data-size",e.size),i.xc7("--tui-slider-track-color",e.options.trackColor)("--tui-slider-segment-width",e.segmentWidth,"%")("--tui-slider-fill-ratio",e.valueRatio))},inputs:{size:"size",segments:"segments"},standalone:!0,features:[i.Jv_([(0,R.Nv)(t)]),i.aNF],attrs:A,decls:0,vars:0,template:function(t,e){},styles:['[_nghost-%COMP%]{position:relative;display:block;inline-size:100%;color:var(--tui-background-accent-1);cursor:pointer;-webkit-appearance:none;appearance:none;block-size:.125rem;padding:.4375rem 0;background-color:transparent;background-clip:content-box;outline:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:active{cursor:ew-resize}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:auto}[data-size=s][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.25rem;left:calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .5rem);inline-size:.5rem;block-size:.5rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=s][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[data-size=m][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.125rem;left:calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .75rem);inline-size:.75rem;block-size:.75rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=m][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[_nghost-%COMP%]::-webkit-slider-container{border-radius:inherit}[data-size=m][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:0,.25rem,0;background-size:calc(100% - .75rem),calc(100% - .75rem),auto}[data-size=s][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:0,.125rem,0;background-size:calc(100% - .5rem),calc(100% - .5rem),auto}[data-size=m][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.25rem;background-size:calc(100% - .75rem)}[data-size=s][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.125rem;background-size:calc(100% - .5rem)}[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=m][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[_nghost-%COMP%]::-moz-range-progress{border-radius:inherit}[_nghost-%COMP%]::-moz-range-progress{block-size:.125rem;background:currentColor;border-top-right-radius:0;border-bottom-right-radius:0}tui-textfield   [type="range"][_nghost-%COMP%]{--tui-radius: var(--tui-radius-m);position:absolute;top:100%;left:calc(var(--tui-radius) / 2);right:0;inline-size:calc(100% - calc(var(--tui-radius) / 2));box-sizing:border-box;block-size:1rem;margin:-.5625rem 0 0;padding:0;border-top-left-radius:0;border-bottom-left-radius:calc(var(--tui-radius) * 10) calc(var(--tui-radius) * 2);pointer-events:auto}tui-textfield[data-size="l"]   [type="range"][_nghost-%COMP%]{--tui-radius: var(--tui-radius-l)}'],changeDetection:0}),e})(),U=(()=>{var t;class e{constructor(){this.injector=(0,i.WQX)(i.duS),this.control=(0,i.WQX)(r.vO,{self:!0,optional:!0}),this.step=1,this.transformer=(0,i.vPA)(null),this.value=(0,N.ot)((0,G.O)(0).pipe((0,f.n)((()=>(0,m.lD)(this.control)))))}get slider(){return this.injector.get(F)}set keySteps(t){var e,n;this.transformer.set(t&&(e=t,n=this.slider,new class{fromControlValue(t){const i=function(t,e){const[[n,i],[r,o]]=Z(e,(([e,n])=>t<=n));return(r-n)*((t-i)/(o-i)||0)+n}(t,e);return i*(n.max-n.min)/100+n.min}toControlValue(t){return function(t,e){const[[n,i],[r,o]]=Z(e,(([e,n])=>t<=e)),a=(t-n)/(r-n)*(o-i)+i;return(0,c.zM)(a,7)}(100*((t-n.min)/(n.max-n.min)||0),e)}})),this.min=t?.[0][1],this.max=t?.[t.length-1]?.[1]}get totalSteps(){return this.step?Math.round(100/this.step):1/0}takeStep(t){const e=this.slider.value+t;return this.transformer()?.toControlValue(this.slider.value+t)??e}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=i.FsC({type:t,selectors:[["input","tuiSlider","","keySteps",""]],hostVars:3,hostBindings:function(t,e){2&t&&i.BMQ("aria-valuemin",e.min)("aria-valuemax",e.max)("aria-valuenow",e.value())},inputs:{step:["step","step",t=>"any"===t?null:t],keySteps:"keySteps"},standalone:!0,features:[i.GFd]}),(0,V.Cg)([y.PE],e.prototype,"slider",null),e})();new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp"]);let J=(()=>{var t;class e{ngAfterContentInit(){}get size(){return this.slider?.size||"m"}get ratio(){return this.slider?.valueRatio||0}get ghostLeft(){return this.ratio*(this.slider?.el.offsetWidth||0)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["","tuiSliderThumbLabel",""]],contentQueries:function(t,e,n){if(1&t&&(i.wni(n,F,5),i.wni(n,r.vO,5)),2&t){let t;i.mGM(t=i.lsd())&&(e.slider=t.first),i.mGM(t=i.lsd())&&(e.control=t.first)}},standalone:!0,features:[i.aNF],attrs:W,ngContentSelectors:E,decls:5,vars:8,consts:[[4,"ngIf"],[1,"t-ghost"]],template:function(t,e){1&t&&(i.NAR(H),i.DNE(0,Y,1,0,"ng-container",0),i.nI1(1,"async"),i.j41(2,"div",1),i.SdG(3),i.k0s(),i.SdG(4,1)),2&t&&(i.Y8G("ngIf",i.bMT(1,6,null==e.control?null:e.control.valueChanges)),i.R7$(2),i.xc7("--tui-slider-thumb-ratio",e.ratio)("left",e.ghostLeft,"px"),i.BMQ("data-size",e.size))},dependencies:[a.Jj,a.bT],styles:["[_nghost-%COMP%]{position:relative}.t-ghost[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:auto;border-radius:50%;pointer-events:none}.t-ghost[data-size=s][_ngcontent-%COMP%]{inline-size:.5rem;block-size:.5rem;transform:translate(calc(var(--tui-slider-thumb-ratio) * -.5rem))}.t-ghost[data-size=m][_ngcontent-%COMP%]{inline-size:.75rem;block-size:.75rem;transform:translate(calc(var(--tui-slider-thumb-ratio) * -.75rem))}"],changeDetection:0}),e})();var L=n(656),q=n(5950),K=n(5173),tt=n(7002),et=n(3617);function nt(t,e){if(1&t&&(i.EFF(0),i.nI1(1,"percent"),i.nI1(2,"async")),2&t){const t=i.XpG(2);i.SpI(" ",i.bMT(1,1,i.bMT(2,3,t.valueChange)||t.value)," ")}}const it=function(){return{standalone:!0}};function rt(t,e){if(1&t){const t=i.RV6();i.qex(0),i.j41(1,"section",1)(2,"button",2),i.bIt("click",(function(){i.eBV(t);const e=i.XpG();return i.Njj(e.onMinus())})),i.EFF(3),i.k0s(),i.j41(4,"label",3),i.nrm(5,"div",4),i.nI1(6,"async"),i.DNE(7,nt,3,5,"ng-template",null,5,i.C5r),i.j41(9,"input",6),i.bIt("ngModelChange",(function(e){i.eBV(t);const n=i.XpG();return i.Njj(n.onModelChange(e))})),i.k0s()(),i.j41(10,"button",7),i.bIt("click",(function(){i.eBV(t);const e=i.XpG();return i.Njj(e.onPlus())})),i.EFF(11),i.k0s()(),i.j41(12,"button",8),i.bIt("click",(function(){i.eBV(t);const e=i.XpG();return i.Njj(e.onReset())})),i.k0s(),i.bVm()}if(2&t){const t=e.ngIf,n=i.sdS(8),r=i.XpG();i.R7$(2),i.Y8G("disabled",r.leftButtonDisabled)("iconStart",r.icons.zoomOut),i.R7$(1),i.SpI(" ",t.zoomOut," "),i.R7$(2),i.Y8G("tuiHint",n)("tuiHintManual",!!i.bMT(6,16,r.hintShow$)),i.R7$(4),i.Y8G("max",r.max)("min",r.min)("ngModel",r.value)("ngModelOptions",i.lJ4(18,it)),i.R7$(1),i.Y8G("disabled",r.rightButtonDisabled)("iconStart",r.icons.zoomIn),i.R7$(1),i.SpI(" ",t.zoomIn," "),i.R7$(1),i.AVh("t-invisible",!r.collapseVisible),i.Y8G("iconStart",r.icons.zoomReset)("tuiHint",t.reset)}}function ot(t,e){if(1&t){const t=i.RV6();i.j41(0,"button",9),i.bIt("click",(function(){i.eBV(t);const e=i.XpG(2);return i.Njj(e.rotate())})),i.k0s()}if(2&t){const t=i.XpG().ngIf,e=i.XpG();i.Y8G("iconStart",e.icons.rotate)("tuiHint",t.rotate)}}function at(t,e){if(1&t){const t=i.RV6();i.j41(0,"tui-preview-zoom",10),i.bIt("reset",(function(){i.eBV(t);const e=i.XpG(2);return i.Njj(e.reset())}))("valueChange",(function(e){i.eBV(t);const n=i.XpG(2);return i.Njj(n.setZoom(e))})),i.nI1(1,"async"),i.k0s()}if(2&t){const t=i.XpG(2);i.Y8G("min",t.minZoom)("value",i.bMT(1,2,t.zoom$)||1)}}function st(t,e){if(1&t){const t=i.RV6();i.qex(0),i.j41(1,"section",1,2),i.bIt("tuiPan",(function(e){i.eBV(t);const n=i.XpG();return i.Njj(n.onPan(e))}))("tuiZoom",(function(e){i.eBV(t);const n=i.XpG();return i.Njj(n.onZoom(e))}))("waMutationObserver",(function(){i.eBV(t);const e=i.sdS(2),n=i.XpG();return i.Njj(n.onMutation(e))}))("waResizeObserver",(function(e){i.eBV(t);const n=i.XpG();return i.Njj(n.onResize(e))})),i.nI1(3,"async"),i.nI1(4,"async"),i.nI1(5,"async"),i.SdG(6),i.k0s(),i.j41(7,"header",3)(8,"div",4),i.SdG(9,1),i.k0s(),i.SdG(10,2),i.j41(11,"div",5),i.SdG(12,3),i.k0s()(),i.j41(13,"footer",6),i.DNE(14,ot,1,2,"button",7),i.DNE(15,at,2,4,"tui-preview-zoom",8),i.k0s(),i.bVm()}if(2&t){const t=i.XpG();i.R7$(1),i.xc7("cursor",i.bMT(3,10,t.cursor$))("transform",i.bMT(4,12,t.wrapperTransform$)),i.AVh("t-not-interactive-content",t.zoomable)("t-transitive",i.bMT(5,14,t.transitioned$)),i.R7$(13),i.Y8G("ngIf",t.rotatable),i.R7$(1),i.Y8G("ngIf",t.zoomable)}}const ct=["*",[["tui-preview-title"]],[["tui-preview-pagination"]],[["","tuiPreviewAction",""]]],ut=["*","tui-preview-title","tui-preview-pagination","[tuiPreviewAction]"];function lt(t,e){if(1&t&&(i.qex(0),i.EFF(1),i.bVm()),2&t){const t=e.polymorpheusOutlet;i.R7$(1),i.SpI(" ",t," ")}}let dt=(()=>{var t;class e{}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵdir=i.FsC({type:t,selectors:[["","tuiPreviewAction",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.xc7("border-radius",100,"rem")},standalone:!0,features:[i.Jv_([(0,s.e)({appearance:"preview-action",size:"s"})])]}),e})(),pt=(()=>{var t;class e{constructor(){this.icons=(0,i.WQX)(u.XW),this.zoomTexts$=(0,i.WQX)(u.jO),this.min=.5,this.max=2,this.value=1,this.valueChange=new i.bkB,this.reset=new i.bkB,this.hintShow$=this.valueChange.pipe((0,f.n)((()=>(0,g.h)((0,j.of)(!0),(0,G.O)(1e3).pipe((0,w.T)(p.s_))))),(0,X.Z)(!1))}get leftButtonDisabled(){return this.value===this.min}get rightButtonDisabled(){return this.value===this.max}get collapseVisible(){return this.value>this.min}onModelChange(t){const e=(0,c.wN)(t,this.min,this.max);e!==this.value&&(this.value=e,this.valueChange.emit(e))}onReset(){this.reset.emit()}onMinus(){this.onModelChange(this.value-.5)}onPlus(){this.onModelChange(this.value<1?1:this.value+.5)}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-preview-zoom"]],inputs:{min:"min",max:"max",value:"value"},outputs:{valueChange:"valueChange",reset:"reset"},standalone:!0,features:[i.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"t-zoom"],["tuiIconButton","","tuiPreviewAction","","type","button",1,"t-sign_minus",3,"disabled","iconStart","click"],["tuiSliderThumbLabel",""],["tuiHintAppearance","dark","tuiHintDirection","top-right",3,"tuiHint","tuiHintManual"],["hint",""],["step","any","tuiSlider","","tuiTheme","dark","type","range",1,"t-slider",3,"max","min","ngModel","ngModelOptions","ngModelChange"],["tuiIconButton","","tuiPreviewAction","","type","button",1,"t-sign_plus",3,"disabled","iconStart","click"],["tuiHintAppearance","dark","tuiHintDescribe","","tuiHintDirection","top-right","tuiIconButton","","tuiPreviewAction","","type","button",1,"t-reset-button",3,"iconStart","tuiHint","click"]],template:function(t,e){1&t&&(i.DNE(0,rt,13,19,"ng-container",0),i.nI1(1,"async")),2&t&&i.Y8G("ngIf",i.bMT(1,1,e.zoomTexts$))},dependencies:[a.Jj,r.YN,r.me,r.MR,r.BC,r.vS,a.bT,a.m1,s.p,S.XZ,S.$$,S.Uu,dt,F,J],styles:["[_nghost-%COMP%]{position:relative;display:flex}.t-zoom[_ngcontent-%COMP%]{border-radius:1rem;background:#686868f5;color:#fff;display:flex;font:var(--tui-font-text-s);justify-content:space-between;align-items:center;inline-size:12rem}.t-slider[_ngcontent-%COMP%]{inline-size:7.5rem}.t-sign_minus[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.t-sign_plus[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.t-invisible[_ngcontent-%COMP%]{visibility:hidden}.t-reset-button[_ngcontent-%COMP%]{margin-left:.3125rem}"],changeDetection:0}),e})();const mt=.8,ht=[0,0];let bt=(()=>{var t;class e{constructor(){this.el=(0,h.qW)(),this.minZoom=1,this.width=0,this.height=0,this.texts$=(0,i.WQX)(u.Ve),this.icons=(0,i.WQX)(u.XW),this.cdr=(0,i.WQX)(i.gRc),this.zoom$=new T.t(this.minZoom),this.rotation$=new T.t(0),this.coordinates$=new T.t(ht),this.transitioned$=(0,g.h)((0,m.D7)(this.el).pipe((0,w.T)((({stage:t})=>"continues"!==t))),(0,m.xM)(this.el,"touchmove",{passive:!0}).pipe((0,w.T)(p.s_)),(0,m.xM)(this.el,"wheel",{passive:!0}).pipe((0,w.T)(p.s_))),this.cursor$=(0,m.D7)(this.el).pipe((0,w.T)((({stage:t})=>"continues"===t?"grabbing":"initial")),(0,X.Z)("initial")),this.wrapperTransform$=(0,B.z)([this.coordinates$.pipe((0,w.T)((([t,e])=>`${(0,y.Pp)(t)}, ${(0,y.Pp)(e)}`))),this.zoom$,this.rotation$]).pipe((0,w.T)((([t,e,n])=>`translate(${t}) scale(${e}) rotate(${n}deg)`))),this.zoomable=!0,this.rotatable=!1}rotate(){this.rotation$.next(this.rotation$.value-90)}onPan(t){this.coordinates$.next(this.getGuardedCoordinates(this.coordinates$.value[0]+t[0],this.coordinates$.value[1]+t[1]))}onMutation(t){const{clientWidth:e,clientHeight:n}=t;this.refresh(e,n)}onZoom({clientX:t,clientY:e,delta:n}){this.zoomable&&this.processZoom(t,e,n)}onResize([t]){t?.contentRect&&(this.refresh(t.contentRect.width,t.contentRect.height),this.cdr.detectChanges())}reset(){this.zoom$.next(this.minZoom),this.coordinates$.next(ht)}setZoom(t){this.zoom$.next(t);const[e,n]=this.coordinates$.value;this.coordinates$.next(this.getGuardedCoordinates(e,n))}get offsets(){return{offsetX:(this.zoom$.value-this.minZoom)*this.width/2,offsetY:(this.zoom$.value-this.minZoom)*this.height/2}}calculateMinZoom(t,e,n,i){const r=t>n*mt||e>i*mt,{clientHeight:o,clientWidth:a}=this.el;return r?(0,c.zM)(Math.min(o*mt/t,a*mt/e),2):1}refresh(t,e){this.width=t,this.height=e,this.minZoom=this.calculateMinZoom(e,t,this.el.clientHeight,this.el.clientWidth),this.zoom$.next(this.minZoom),this.coordinates$.next(ht),this.rotation$.next(0)}processZoom(t,e,n){const i=this.zoom$.value,r=(0,c.wN)(i+n,this.minZoom,2),o=this.getScaleCenter({clientX:t,clientY:e},this.coordinates$.value,this.zoom$.value),a=o[0]*i-o[0]*r,s=o[1]*i-o[1]*r;this.zoom$.next(r),this.coordinates$.next(this.getGuardedCoordinates(this.coordinates$.value[0]+a,this.coordinates$.value[1]+s))}getGuardedCoordinates(t,e){const{offsetX:n,offsetY:i}=this.offsets;return[(0,c.wN)(t,-n,n),(0,c.wN)(e,-i,i)]}getScaleCenter({clientX:t,clientY:e},[n,i],r){return[(t-n-this.el.offsetWidth/2)/r,(e-i-this.el.offsetHeight/2)/r]}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-preview"]],inputs:{zoomable:"zoomable",rotatable:"rotatable"},standalone:!0,features:[i.aNF],ngContentSelectors:ut,decls:2,vars:3,consts:[[4,"ngIf"],["attributeFilter","src","characterData","","childList","","subtree","",1,"t-wrapper",3,"tuiPan","tuiZoom","waMutationObserver","waResizeObserver"],["contentWrapper",""],[1,"t-header"],[1,"t-title"],[1,"t-actions"],[1,"t-footer"],["tuiHintAppearance","dark","tuiHintDescribe","","tuiHintDirection","top-right","tuiIconButton","","tuiPreviewAction","","type","button","class","t-rotate-button",3,"iconStart","tuiHint","click",4,"ngIf"],[3,"min","value","reset","valueChange",4,"ngIf"],["tuiHintAppearance","dark","tuiHintDescribe","","tuiHintDirection","top-right","tuiIconButton","","tuiPreviewAction","","type","button",1,"t-rotate-button",3,"iconStart","tuiHint","click"],[3,"min","value","reset","valueChange"]],template:function(t,e){1&t&&(i.NAR(ct),i.DNE(0,st,16,16,"ng-container",0),i.nI1(1,"async")),2&t&&i.Y8G("ngIf",i.bMT(1,1,e.texts$))},dependencies:[a.Jj,a.bT,s.p,S.XZ,S.$$,M,dt,pt,$,l.Gs,d.DQ],styles:["[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;inline-size:100%;block-size:100%;-webkit-user-select:none;user-select:none}.t-header[_ngcontent-%COMP%]{position:fixed;top:1rem;display:flex;inline-size:100%;padding:0 1rem;box-sizing:border-box}.t-footer[_ngcontent-%COMP%]{position:absolute;bottom:1rem;display:flex;inline-size:100%;padding:0 1rem;box-sizing:border-box;justify-content:center}.t-actions[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:flex-end}.t-actions[_ngcontent-%COMP%]    >*{margin-left:.625rem}.t-rotate-button[_ngcontent-%COMP%]{margin-right:.3125rem}.t-title[_ngcontent-%COMP%]{flex:1}tui-root._mobile[_nghost-%COMP%]   .t-title[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-title[_ngcontent-%COMP%]{display:none}.t-not-interactive-content[_ngcontent-%COMP%]    >*{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{will-change:transform}.t-transitive[_ngcontent-%COMP%]{transition-duration:.3s}"],data:{animation:[I.oD]},changeDetection:0}),e})(),gt=(()=>{var t;class e{constructor(){this.context=(0,K.Dm)(),this.animation={value:"",params:{start:"100vh",duration:(0,q.T0)((0,i.WQX)(L.nV))}}}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["tui-preview-dialog"]],hostVars:2,hostBindings:function(t,e){1&t&&i.bIt("keydown.esc",(function(){return e.context.$implicit.complete()}),!1,i.EBC),2&t&&i.zvX("@tuiSlideInTop",e.animation)("@tuiFadeIn",e.animation)},standalone:!0,features:[i.aNF],decls:1,vars:2,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(t,e){1&t&&i.DNE(0,lt,2,1,"ng-container",0),2&t&&i.Y8G("polymorpheusOutlet",e.context.content)("polymorpheusOutletContext",e.context)},dependencies:[K.xr],styles:["tui-preview-dialog{inline-size:100%;block-size:100%}[tuiAppearance][data-appearance=preview-action]{background:#686868f5;color:#fff}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=preview-action]:matches(a,button,select,textarea,input,label):not(:disabled):hover:not(:disabled):not([data-state]){background:#9f9f9fdb}}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=preview-action]:is(a,button,select,textarea,input,label):not(:disabled):hover:not(:disabled):not([data-state]){background:#9f9f9fdb}}[tuiAppearance][data-appearance=preview-action][data-state=hover]{background:#9f9f9fdb}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=preview-action][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=preview-action][tuiWrapper][data-state=hover]{background:#9f9f9fdb}}[tuiAppearance][data-appearance=preview-action]:matches(a,button,select,textarea,input,label):not(:disabled):active:not(:disabled):not([data-state]){background:#9f9f9fbf}[tuiAppearance][data-appearance=preview-action]:is(a,button,select,textarea,input,label):not(:disabled):active:not(:disabled):not([data-state]){background:#9f9f9fbf}[tuiAppearance][data-appearance=preview-action][data-state=active]{background:#9f9f9fbf}[tuiAppearance][data-appearance=preview-action][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=preview-action][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=preview-action][tuiWrapper][data-state=active]:hover{background:#9f9f9fbf}\n"],encapsulation:2,data:{animation:[I.oD,I.uy]},changeDetection:0}),e})(),ft=(()=>{var t;class e extends tt.bL{}return(t=e).ɵfac=function(){let e;return function(n){return(e||(e=i.xGo(t)))(n||t)}}(),t.ɵprov=i.jDH({token:t,factory:function(){return new t(et.lb,gt)},providedIn:"root"}),e})();const vt=["previewImages"];function wt(t,e){if(1&t&&i.nrm(0,"img",4),2&t){const t=i.XpG(2);i.Y8G("src",t.image.src,i.B4B)}}function zt(t,e){if(1&t){const t=i.RV6();i.j41(0,"tui-preview",1),i.DNE(1,wt,1,1,"img",2),i.j41(2,"button",3),i.bIt("click",(function(){const e=i.eBV(t).$implicit;return i.Njj(e.complete())})),i.k0s()()}if(2&t){const t=i.XpG();i.Y8G("rotatable",!0),i.R7$(1),i.Y8G("ngIf",t.image)}}let kt=(()=>{var t;class e{constructor(){this.dialogs=(0,i.WQX)(ft)}showImage(t){this.image=t,this.dialogs.open(this.template||"").subscribe()}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["image-preview-example"]],viewQuery:function(t,e){if(1&t&&i.GBs(vt,5),2&t){let t;i.mGM(t=i.lsd())&&(e.template=t.first)}},standalone:!0,features:[i.aNF],decls:2,vars:0,consts:[["previewImages",""],[3,"rotatable"],["alt","","loading","lazy","class","t-image-preview",3,"src",4,"ngIf"],["iconStart","@tui.x","title","Close","tuiIconButton","","tuiPreviewAction","","type","button",3,"click"],["alt","","loading","lazy",1,"t-image-preview",3,"src"]],template:function(t,e){1&t&&i.DNE(0,zt,3,2,"ng-template",null,0,i.C5r)},dependencies:[a.bT,s.p,bt,dt],styles:[".t-image-preview[_ngcontent-%COMP%]{inline-size:100%}"],changeDetection:0}),e})();const xt=(()=>{var t;class e{constructor(){this.builtInTools=[o.TuiEditorTool.Undo,o.TuiEditorTool.Img],this.control=new r.MJ(""),this.control.patchValue('<p>Small image</p><img src="assets/images/lumberjack.png" width="300" /><p>Big image</p><img src="assets/images/big-wallpaper.jpg" width="500" />')}}return(t=e).ɵfac=function(e){return new(e||t)},t.ɵcmp=i.VBU({type:t,selectors:[["ng-component"]],standalone:!0,features:[i.Jv_([{provide:o.TUI_EDITOR_EXTENSIONS,deps:[i.zZn],useFactory:t=>[Promise.resolve().then(n.bind(n,1062)).then((({TuiStarterKit:t})=>t)),Promise.resolve().then(n.bind(n,1062)).then((({tuiCreateImageEditorExtension:e})=>e({injector:t})))]}]),i.aNF],decls:6,vars:3,consts:[[1,"editor",3,"formControl","tools"],[3,"content","imagePreview"],["preview",""]],template:function(t,e){if(1&t){const t=i.RV6();i.nrm(0,"tui-editor",0),i.j41(1,"h4"),i.EFF(2,"HTML:"),i.k0s(),i.j41(3,"tui-editor-socket",1),i.bIt("imagePreview",(function(e){i.eBV(t);const n=i.sdS(5);return i.Njj(n.showImage(e))})),i.nrm(4,"image-preview-example",null,2),i.k0s()}2&t&&(i.Y8G("formControl",e.control)("tools",e.builtInTools),i.R7$(3),i.Y8G("content",e.control.value||""))},dependencies:[kt,r.X1,r.BC,r.l_,o.TuiEditor,o.TuiEditorImagePreview,o.TuiEditorSocket],encapsulation:2,changeDetection:0}),e})()}}]);